import{u as n,j as s}from"./index-phq109e0.js";const d={description:"基于 PancakeSwap V3 进行无状态交换的路由器",title:"V3SwapRouter"};function i(r){const e={a:"a",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...n(),...r.components};return s.jsxs(s.Fragment,{children:[s.jsx(e.header,{children:s.jsxs(e.h1,{id:"v3swaprouter",children:["V3SwapRouter",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#v3swaprouter",children:s.jsx(e.div,{"data-autolink-icon":!0})})]})}),`
`,s.jsxs(e.h2,{id:"solidity-api",children:["Solidity API",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#solidity-api",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsxs(e.h3,{id:"swapcallbackdata",children:["SwapCallbackData",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#swapcallbackdata",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsxs(e.code,{children:[s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"struct"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#F69D50"},children:" SwapCallbackData"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" {"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"  bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" path;"})]}),`
`,s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"  address"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" payer;"})]}),`
`,s.jsx(e.span,{className:"line",children:s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"}"})})]})}),`
`,s.jsxs(e.h3,{id:"pancakev3swapcallback",children:["pancakeV3SwapCallback",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#pancakev3swapcallback",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" pancakeV3SwapCallback"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"int256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amount0Delta"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"int256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amount1Delta"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:", "}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"bytes"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" _data) "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"})]})})}),`
`,s.jsxs(e.p,{children:["在通过 ",s.jsx(e.code,{children:"IPancakeV3Pool#swap"})," 执行交换后调用 ",s.jsx(e.code,{children:"msg.sender"}),"。"]}),`
`,s.jsx(e.p,{children:s.jsx(e.em,{children:"在实现中，你必须支付交换所需的池代币。此方法的调用者必须被检查为由 PancakeV3Factory 部署的 PancakeV3Pool。如果没有代币被交换，amount0Delta 和 amount1Delta 都可以为0。"})}),`
`,s.jsx(e.strong,{children:"参数"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsxs(e.tbody,{children:[s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amount0Delta"}),s.jsx(e.td,{children:"int256"}),s.jsx(e.td,{children:"交换结束时池发送（负）或必须接收（正）的 token0 数量。如果为正，回调必须将该数量的 token0 发送到池中。"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amount1Delta"}),s.jsx(e.td,{children:"int256"}),s.jsx(e.td,{children:"交换结束时池发送（负）或必须接收（正）的 token1 数量。如果为正，回调必须将该数量的 token1 发送到池中。"})]}),s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"_data"}),s.jsx(e.td,{children:"bytes"}),s.jsx(e.td,{})]})]})]}),`
`,s.jsxs(e.h3,{id:"exactinputsingle",children:["exactInputSingle",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#exactinputsingle",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" exactInputSingle"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"struct"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" IV3SwapRouter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ExactInputSingleParams"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" params"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" payable"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amountOut"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})})}),`
`,s.jsxs(e.p,{children:["交换 ",s.jsx(e.code,{children:"amountIn"})," 的一种代币以获取尽可能多的另一种代币"]}),`
`,s.jsx(e.p,{children:s.jsxs(e.em,{children:["将 ",s.jsx(e.code,{children:"amountIn"})," 设为0将导致合约查询其自身的余额，并交换全部金额，从而使合约能够在调用此函数之前发送代币。"]})}),`
`,s.jsx(e.strong,{children:"参数"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"params"}),s.jsx(e.td,{children:"struct IV3SwapRouter.ExactInputSingleParams"}),s.jsxs(e.td,{children:["交换所需的参数，编码为 calldata 中的 ",s.jsx(e.code,{children:"ExactInputSingleParams"})]})]})})]}),`
`,s.jsx(e.strong,{children:"返回值"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amountOut"}),s.jsx(e.td,{children:"uint256"}),s.jsx(e.td,{children:"接收的代币数量"})]})})]}),`
`,s.jsxs(e.h3,{id:"exactinput",children:["exactInput",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#exactinput",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" exactInput"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"struct"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" IV3SwapRouter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ExactInputParams"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" params"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" payable"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amountOut"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})})}),`
`,s.jsxs(e.p,{children:["交换 ",s.jsx(e.code,{children:"amountIn"})," 的一种代币以沿指定路径尽可能多地获取另一种代币"]}),`
`,s.jsx(e.p,{children:s.jsxs(e.em,{children:["将 ",s.jsx(e.code,{children:"amountIn"})," 设为0将导致合约查询其自身的余额，并交换全部金额，从而使合约能够在调用此函数之前发送代币。"]})}),`
`,s.jsx(e.strong,{children:"参数"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"params"}),s.jsx(e.td,{children:"struct IV3SwapRouter.ExactInputParams"}),s.jsxs(e.td,{children:["多跳交换所需的参数，编码为 calldata 中的 ",s.jsx(e.code,{children:"ExactInputParams"})]})]})})]}),`
`,s.jsx(e.strong,{children:"返回值"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amountOut"}),s.jsx(e.td,{children:"uint256"}),s.jsx(e.td,{children:"接收的代币数量"})]})})]}),`
`,s.jsxs(e.h3,{id:"exactoutputsingle",children:["exactOutputSingle",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#exactoutputsingle",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" exactOutputSingle"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"struct"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" IV3SwapRouter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ExactOutputSingleParams"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" params"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" payable"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amountIn"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})})}),`
`,s.jsxs(e.p,{children:["以尽可能少的代币交换 ",s.jsx(e.code,{children:"amountOut"})," 的另一种代币，该代币在交换后可能会留在路由器中。"]}),`
`,s.jsx(e.strong,{children:"参数"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"params"}),s.jsx(e.td,{children:"struct IV3SwapRouter.ExactOutputSingleParams"}),s.jsxs(e.td,{children:["交换所需的参数，编码为 calldata 中的 ",s.jsx(e.code,{children:"ExactOutputSingleParams"})]})]})})]}),`
`,s.jsx(e.strong,{children:"返回值"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amountIn"}),s.jsx(e.td,{children:"uint256"}),s.jsx(e.td,{children:"输入的代币数量"})]})})]}),`
`,s.jsxs(e.h3,{id:"exactoutput",children:["exactOutput",s.jsx(e.a,{"aria-hidden":"true",tabIndex:"-1",href:"#exactoutput",children:s.jsx(e.div,{"data-autolink-icon":!0})})]}),`
`,s.jsx(e.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:s.jsx(e.code,{children:s.jsxs(e.span,{className:"line",children:[s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"function"}),s.jsx(e.span,{style:{color:"#6F42C1","--shiki-dark":"#DCBDFB"},children:" exactOutput"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"("}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:"struct"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" IV3SwapRouter"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"."}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"ExactOutputParams"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" params"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:") "}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:"external"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" payable"}),s.jsx(e.span,{style:{color:"#D73A49","--shiki-dark":"#F47067"},children:" returns"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:" ("}),s.jsx(e.span,{style:{color:"#005CC5","--shiki-dark":"#6CB6FF"},children:"uint256"}),s.jsx(e.span,{style:{color:"#E36209","--shiki-dark":"#F69D50"},children:" amountIn"}),s.jsx(e.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:")"})]})})}),`
`,s.jsxs(e.p,{children:["以尽可能少的代币交换沿指定路径（反向）获取 ",s.jsx(e.code,{children:"amountOut"})," 的另一种代币，该代币在交换后可能会留在路由器中。"]}),`
`,s.jsx(e.strong,{children:"参数"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"params"}),s.jsx(e.td,{children:"struct IV3SwapRouter.ExactOutputParams"}),s.jsxs(e.td,{children:["多跳交换所需的参数，编码为 calldata 中的 ",s.jsx(e.code,{children:"ExactOutputParams"})]})]})})]}),`
`,s.jsx(e.strong,{children:"返回值"}),`
`,s.jsxs(e.table,{children:[s.jsx(e.thead,{children:s.jsxs(e.tr,{children:[s.jsx(e.th,{children:"名称"}),s.jsx(e.th,{children:"类型"}),s.jsx(e.th,{children:"描述"})]})}),s.jsx(e.tbody,{children:s.jsxs(e.tr,{children:[s.jsx(e.td,{children:"amountIn"}),s.jsx(e.td,{children:"uint256"}),s.jsx(e.td,{children:"输入的代币数量"})]})})]})]})}function a(r={}){const{wrapper:e}={...n(),...r.components};return e?s.jsx(e,{...r,children:s.jsx(i,{...r})}):i(r)}export{a as default,d as frontmatter};
