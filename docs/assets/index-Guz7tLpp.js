import{u as i,j as e}from"./index-phq109e0.js";const c={description:"v2",title:"彩票"};function d(s){const n={a:"a",br:"br",code:"code",div:"div",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...i(),...s.components};return e.jsxs(e.Fragment,{children:[e.jsx(n.header,{children:e.jsxs(n.h1,{id:"彩票",children:["彩票",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#彩票",children:e.jsx(n.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsxs(n.h2,{id:"合约信息",children:["合约信息",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#合约信息",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.p,{children:[e.jsx(n.strong,{children:"合约名称:"})," PancakeSwapLottery",e.jsx(n.br,{}),`
`,e.jsx(n.strong,{children:"合约地址:"})," 0x5aF6D33DE2ccEC94efb1bDF8f92Bd58085432d2c",e.jsx(n.br,{}),`
`,e.jsx(n.strong,{children:"随机数生成器地址:"})," 0x8c6375Aab6e5B26a30bF241EBBf29AD6e6c503c2",e.jsx(n.br,{}),`
`,"(",e.jsx(n.em,{children:"随机数生成器合约必须首先部署"}),")"]}),`
`,e.jsxs(n.p,{children:["查看 ",e.jsx(n.a,{href:"https://bscscan.com/address/0x5aF6D33DE2ccEC94efb1bDF8f92Bd58085432d2c#code",children:"BscScan 上的 PancakeSwapLottery.sol"}),"。"]}),`
`,e.jsxs(n.p,{children:["查看 ",e.jsx(n.a,{href:"https://bscscan.com/address/0x5aF6D33DE2ccEC94efb1bDF8f92Bd58085432d2c",children:"BscScan 上的 PancakeSwap: Lottery 合约"}),"。"]}),`
`,e.jsxs(n.h2,{id:"审计",children:["审计",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#审计",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.p,{children:"PancakeSwap 彩票 V2 目前已经被审计过两次。查看以下结果："}),`
`,e.jsx(n.p,{children:e.jsx(n.a,{href:"https://github.com/peckshield/publications/blob/master/audit_reports/PeckShield-Audit-Report-PancakeswapLottery-v1.0.pdf",children:"Peckshield 的彩票 V2 审计报告"})}),`
`,e.jsx(n.p,{children:e.jsx(n.a,{href:"https://github.com/slowmist/Knowledge-Base/blob/master/open-report/Smart%20Contract%20Security%20Audit%20Report%20-%20PancakeSwap%20Lottery.pdf",children:"Slowmist 的彩票 V2 审计报告"})}),`
`,e.jsxs(n.h2,{id:"彩票状态",children:["彩票状态",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#彩票状态",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.p,{children:["彩票具有四种 ",e.jsx(n.code,{children:"Status"})," 状态：",e.jsx(n.code,{children:"Pending"}),", ",e.jsx(n.code,{children:"Open"}),", ",e.jsx(n.code,{children:"Close"})," 和 ",e.jsx(n.code,{children:"Claimable"}),"，这些状态决定了在特定时间可以执行哪些操作。"]}),`
`,e.jsxs(n.h2,{id:"读取查看函数",children:["读取/查看函数",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#读取查看函数",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.h3,{id:"viewcurrentlotteryid",children:["viewCurrentLotteryId",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#viewcurrentlotteryid",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function viewCurrentLotteryId() external view override returns (uint256);"})})})}),`
`,e.jsxs(n.p,{children:["返回当前彩票轮次的 Id# 作为整数。轮次 Id# 对应轮次编号，且是递增的，例如，第九轮彩票的 Id# 为 ",e.jsx(n.code,{children:"9"}),"。"]}),`
`,e.jsxs(n.h3,{id:"viewlottery",children:["viewLottery",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#viewlottery",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function viewLottery(uint256 _lotteryId) external view returns (Lottery memory);"})})})}),`
`,e.jsx(n.p,{children:"返回指定彩票轮次的信息作为一个元组（见下面的 Lottery 结构）。"}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 startTime;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 endTime;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 priceTicketInCake;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 discountDivisor;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256[6] rewardsBreakdown; // 0: 1 个匹配的号码 // 5: 6 个匹配的号码"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 treasuryFee; // 500: 5% // 200: 2% // 50: 0.5%"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256[6] cakePerBracket;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256[6] countWinnersPerBracket;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 firstTicketId;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 firstTicketIdNextLottery;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 amountCollectedInCake;"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint32 finalNumber;"})})]})}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"startTime"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票轮次的起始区块。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"endTime"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票轮次的结束区块（约为轮次开始后的 12 小时）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"priceTicketInCake"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"单张彩票的价格（约为 $5 USD）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"discountDivisor"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"用于计算批量购票折扣的除数。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"rewardsBreakdown"})}),e.jsx(n.td,{children:"uint256[6]"}),e.jsx(n.td,{children:"不同档次的奖金分配（总和必须是 10,000）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"treasuryFee"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"从每轮募集的资金中提取并转入国库地址的金额（最高 3000）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"cakePerBracket"})}),e.jsx(n.td,{children:"uint256[6]"}),e.jsx(n.td,{children:"分配给每个档次中奖者的 CAKE 数量。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"countWinnersPerBracket"})}),e.jsx(n.td,{children:"uint256[6]"}),e.jsx(n.td,{children:"从最高档次开始统计每个档次的中奖者数量，当值 > 0 时有效。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"firstTicketId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票轮次开始时设置的第一张彩票的 Id，决定当前轮次的有效彩票范围。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"firstTicketIdNextLottery"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"当前轮次结束时设置的第一张彩票的 Id，决定下一轮次的有效彩票范围。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"amountCollectedInCake"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"当前彩票轮次通过售票募集的 CAKE 数量。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"finalNumber"})}),e.jsx(n.td,{children:"uint32"}),e.jsxs(n.td,{children:["从随机数生成器合约（",e.jsx(n.a,{href:"https://bscscan.com/address/0x8c6375Aab6e5B26a30bF241EBBf29AD6e6c503c2",children:"RandomNumberGenerator.sol"}),"）中获得的",e.jsx(n.code,{children:"randomResult"}),"确定的最终号码。"]})]})]})]}),`
`,e.jsxs(n.h3,{id:"viewnumbersandstatusesforticketids",children:["viewNumbersAndStatusesForTicketIds",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#viewnumbersandstatusesforticketids",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function viewNumbersAndStatusesForTicketIds(uint256[] calldata _ticketIds)"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    external"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    view"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    returns (uint32[] memory, bool[] memory);"})})]})}),`
`,e.jsxs(n.p,{children:["返回由 ",e.jsx(n.code,{children:"ticketId"})," 数组定义的彩票的对应号码和状态。"]}),`
`,e.jsxs(n.h3,{id:"viewrewardsforticketid",children:["viewRewardsForTicketId",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#viewrewardsforticketid",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function viewRewardsForTicketId("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    uint256 _lotteryId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    uint256 _ticketId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    uint32 _bracket;"})})]})}),`
`,e.jsxs(n.p,{children:["在抽奖后根据 ",e.jsx(n.code,{children:"lotteryId"}),"、",e.jsx(n.code,{children:"ticketId"})," 和 ",e.jsx(n.code,{children:"bracket"})," 计算一张彩票的奖励。填充和查询将提供一个指向 ",e.jsx(n.a,{href:"https://bscscan.com/address/0x5aF6D33DE2ccEC94efb1bDF8f92Bd58085432d2c#readContract",children:"BscScan"})," 上详细价格信息的链接。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"ticketId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"bracket"})}),e.jsx(n.td,{children:"uint32"}),e.jsxs(n.td,{children:["用于验证认领和计算奖励的 ",e.jsx(n.code,{children:"ticketId"})," 档次。"]})]})]})]}),`
`,e.jsxs(n.h3,{id:"viewuserinfoforlotteryid",children:["viewUserInfoForLotteryId",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#viewuserinfoforlotteryid",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function viewUserInfoForLottery("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        address _user,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _lotteryId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _cursor,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _size"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    )"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        external"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        view"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        returns ("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"            uint256[] memory,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"            uint32[] memory,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"            bool[] memory,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"            uint256"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        )"})})]})}),`
`,e.jsxs(n.p,{children:["返回用户在给定彩票轮次（由 ",e.jsx(n.code,{children:"lotteryID"})," 定义）的 ",e.jsx(n.code,{children:"lotteryTicketIds"}),"、",e.jsx(n.code,{children:"ticketNumbers"})," 和 ",e.jsx(n.code,{children:"ticketStatuses"}),"。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"user"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"用户的地址。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"cursor"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"检索彩票时的起始光标。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"size"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"要检索的彩票数量。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"calculaterewardsforticketid",children:["calculateRewardsForTicketId",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#calculaterewardsforticketid",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function _calculateRewardsForTicketId("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _lotteryId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _ticketId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint32 _bracket"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    ) internal view returns (uint256);"})})]})}),`
`,e.jsxs(n.p,{children:["在抽奖后根据 ",e.jsx(n.code,{children:"lotteryId"}),"、",e.jsx(n.code,{children:"ticketId"})," 和 ",e.jsx(n.code,{children:"bracket"})," 计算一张彩票的奖励。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"ticketId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"bracket"})}),e.jsx(n.td,{children:"uint32"}),e.jsxs(n.td,{children:["用于验证认领和计算奖励的 ",e.jsx(n.code,{children:"ticketId"})," 档次。"]})]})]})]}),`
`,e.jsxs(n.h3,{id:"calculatetotalpriceforbulktickets",children:["calculateTotalPriceForBulkTickets",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#calculatetotalpriceforbulktickets",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function calculateTotalPriceForBulkTickets("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _discountDivisor,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _priceTicket,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _numberTickets"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    ) external pure returns (uint256);"})})]})}),`
`,e.jsx(n.p,{children:"计算一组彩票的价格，考虑批量折扣。"}),`
`,e.jsx(n.p,{children:"discountDivisor:"}),`
`,e.jsx(n.p,{children:"$$totalPriceForBulkTickets = priceSingleTicket \\cdot numberTickets \\cdot \\frac{(discountDivisor + 1 - numberTickets)}{discountDivisor}$$"}),`
`,e.jsx(n.p,{children:"填充和查询将提供 BscScan 上详细价格信息的链接。"}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"discountDivisor"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"折扣的除数。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"priceTickets"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"单张彩票的价格（CAKE）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"numberTickets"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"要购买的彩票数量。"})]})]})]}),`
`,e.jsxs(n.h2,{id:"写函数用户",children:["写函数（用户）",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#写函数用户",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.h3,{id:"buytickets",children:["buyTickets",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#buytickets",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function buyTickets(uint256 _lotteryId, uint32[] calldata _ticketNumbers) external override notContract nonReentrant;"})})})}),`
`,e.jsxs(n.p,{children:["为当前 ",e.jsx(n.code,{children:"Open"})," 状态的彩票轮次购买彩票（每次购买 1 到 100 张）。使用 ",e.jsx(n.code,{children:"calculateTotalPriceForBulkTickets"})," 计算每张彩票的价格。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"ticketNumbers"})}),e.jsx(n.td,{children:"uint32"}),e.jsx(n.td,{children:"介于 1,000,000 和 1,999,999 之间的彩票号码数组。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"claimtickets",children:["claimTickets",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#claimtickets",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function claimTickets("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _lotteryId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256[] calldata _ticketIds,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint32[] calldata _brackets"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    ) external override notContract nonReentrant;"})})]})}),`
`,e.jsxs(n.p,{children:["为 ",e.jsx(n.code,{children:"Claimable"})," 状态的彩票轮次认领奖励。检查 ",e.jsx(n.code,{children:"lotteryId"})," 以确定轮次是否可认领，",e.jsx(n.code,{children:"ticketId"})," 的所有权，彩票的资格（",e.jsx(n.code,{children:"ticketId"})," 介于 ",e.jsx(n.code,{children:"firstTicketId"})," 和 ",e.jsx(n.code,{children:"firstTicketIdNextLottery"})," 之间），以及 ",e.jsx(n.code,{children:"ticketId"})," 是否在符合要求的奖品 ",e.jsx(n.code,{children:"bracket"})," 之内（介于 0 和 5 之间）。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"ticketIds"})}),e.jsx(n.td,{children:"uint32"}),e.jsxs(n.td,{children:[e.jsx(n.code,{children:"ticketId"})," 数组。"]})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"brackets"})}),e.jsx(n.td,{children:"uint32"}),e.jsx(n.td,{children:"彩票 id 的档次数组。"})]})]})]}),`
`,e.jsxs(n.h2,{id:"写函数操作员管理员",children:["写函数（操作员/管理员）",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#写函数操作员管理员",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.h3,{id:"closelottery",children:["closeLottery",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#closelottery",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function closeLottery(uint256 _lotteryId) external override onlyOperator;"})})})}),`
`,e.jsxs(n.p,{children:["将 ",e.jsx(n.code,{children:"Open"})," 状态的彩票关闭为 ",e.jsx(n.code,{children:"Close"})," 状态。发出 ",e.jsx(n.code,{children:"LotteryClose"})," 事件。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsx(n.tbody,{children:e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]})})]}),`
`,e.jsxs(n.h3,{id:"drawfinalnumberandmakelotteryclaimable",children:["drawFinalNumberAndMakeLotteryClaimable",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#drawfinalnumberandmakelotteryclaimable",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function drawFinalNumberAndMakeLotteryClaimable(uint256 _lotteryId, bool _autoInjection) external override onlyOperator nonReentrant;"})})})}),`
`,e.jsxs(n.p,{children:["彩票必须处于 ",e.jsx(n.code,{children:"Close"})," 状态。根据 ",e.jsx(n.code,{children:"randomResult"})," 抽取最终的彩票号码，计算扣除国库费用后的各档次奖励，使彩票状态变为 ",e.jsx(n.code,{children:"Claimable"}),"，并将国库费用转移到国库地址。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"autoInjection"})}),e.jsx(n.td,{children:"bool"}),e.jsx(n.td,{children:"自动注入状态。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"changerandomnumbergenerator",children:["changeRandomNumberGenerator",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#changerandomnumbergenerator",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function changeRandomGenerator(address _randomGeneratorAddress) external onlyOwner;"})})})}),`
`,e.jsxs(n.p,{children:["更改随机数生成器合约地址。彩票必须为 ",e.jsx(n.code,{children:"Claimable"}),"。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsx(n.tbody,{children:e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"randomGeneratorAddress"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"随机生成器合约的地址。"})]})})]}),`
`,e.jsxs(n.h3,{id:"injectfunds",children:["injectFunds",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#injectfunds",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function injectFunds(uint256 _lotteryId, uint256 _amount) external override onlyOwner;"})})})}),`
`,e.jsxs(n.p,{children:["向彩票注入资金。彩票必须为 ",e.jsx(n.code,{children:"Open"}),"。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"lotteryId"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的 id。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"amount"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"以 CAKE 计算的注入金额。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"startlottery",children:["startLottery",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#startlottery",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    function startLottery("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _endTime,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _priceTicketInCake,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _discountDivisor,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256[6] calldata _rewardsBreakdown,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 _treasuryFee"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    ) external override onlyOperator;"})})]})}),`
`,e.jsxs(n.p,{children:["启动彩票，将其设置为 ",e.jsx(n.code,{children:"Open"})," 状态。状态必须为 ",e.jsx(n.code,{children:"Claimable"}),"。"]}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"endTime"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"彩票的结束时间。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"priceTicketInCake"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"单张彩票的价格（CAKE）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"discountDivisor"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"计算批量优惠幅度的除数。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"rewardsBreakdown"})}),e.jsx(n.td,{children:"uint256[6]"}),e.jsx(n.td,{children:"每个档次的奖金分配（总和必须为 10,000）。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"trasuryFee"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"国库费用（10,000 = 100%，100 = 1%）。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"recoverwrongtokens",children:["recoverWrongTokens",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#recoverwrongtokens",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function recoverWrongTokens(address _tokenAddress, uint256 _tokenAmount) external onlyOwner;"})})})}),`
`,e.jsx(n.p,{children:"允许管理员回收错误发送到地址的代币。不能是 CAKE 代币。"}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"tokenAddress"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"要提取的代币地址。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"tokenAmount"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"要提取的代币数量。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"setminandmaxticketpriceincake",children:["setMinAndMaxTicketPriceInCake",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setminandmaxticketpriceincake",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function recoverWrongTokens(address _tokenAddress, uint256 _tokenAmount) external onlyOwner;"})})})}),`
`,e.jsx(n.p,{children:"允许管理员设置彩票价格的上下限。最低价必须低于最高价。"}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"minPriceTicketInCake"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"CAKE 中彩票的最低价。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"maxPriceTicketInCake"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"CAKE 中彩票的最高价。"})]})]})]}),`
`,e.jsxs(n.h3,{id:"setmaxnumberticketsperbuy",children:["setMaxNumberTicketsPerBuy",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setmaxnumberticketsperbuy",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function setMaxNumberTicketsPerBuy(uint256 _maxNumberTicketsPerBuy) external onlyOwner;"})})})}),`
`,e.jsx(n.p,{children:"设置一次性可购买的彩票数量上限（目前为 100）。最大数量必须大于 0。"}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsx(n.tbody,{children:e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"maxNumberTicketsPerBuy"})}),e.jsx(n.td,{children:"uint256"}),e.jsx(n.td,{children:"一次性购买的最大彩票数量。"})]})})]}),`
`,e.jsxs(n.h3,{id:"setoperatorandtreasuryandinjectoraddress",children:["setOperatorAndTreasuryAndInjectorAddress",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#setoperatorandtreasuryandinjectoraddress",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"function setOperatorAndTreasuryAddresses(address _operatorAddress, address _treasuryAddress) external onlyOwner;"})})})}),`
`,e.jsx(n.p,{children:"设置彩票运营者的地址。"}),`
`,e.jsxs(n.table,{children:[e.jsx(n.thead,{children:e.jsxs(n.tr,{children:[e.jsx(n.th,{children:"名称"}),e.jsx(n.th,{children:"类型"}),e.jsx(n.th,{children:"描述"})]})}),e.jsxs(n.tbody,{children:[e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"operatorAddress"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"运营者的地址。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"treasuryAddress"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"国库的地址。"})]}),e.jsxs(n.tr,{children:[e.jsx(n.td,{children:e.jsx(n.code,{children:"injectorAddress"})}),e.jsx(n.td,{children:"address"}),e.jsx(n.td,{children:"注入者的地址。"})]})]})]}),`
`,e.jsxs(n.h2,{id:"事件用户",children:["事件（用户）",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#事件用户",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.h3,{id:"ticketspurchase",children:["TicketsPurchase",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#ticketspurchase",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"TicketsPurchase(address indexed buyer, uint256 indexed lotteryId, uint256 numberTickets);"})})})}),`
`,e.jsx(n.p,{children:"彩票被购买。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"buyTickets"})," ",e.jsx(n.a,{href:"#buytickets",children:"跳转到 buyTickets"})]}),`
`,e.jsxs(n.h3,{id:"ticketsclaim",children:["TicketsClaim",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#ticketsclaim",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"TicketsClaim(address indexed claimer, uint256 amount, uint256 indexed lotteryId, uint256 numberTickets);"})})})}),`
`,e.jsx(n.p,{children:"彩票在抽奖后被认领。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"claimTickets"})," ",e.jsx(n.a,{href:"#claimtickets",children:"跳转到 claimTickets"})]}),`
`,e.jsxs(n.h2,{id:"事件管理员",children:["事件（管理员）",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#事件管理员",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.h3,{id:"admintokenrecovery",children:["AdminTokenRecovery",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#admintokenrecovery",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"AdminTokenRecovery(address token, uint256 amount);"})})})}),`
`,e.jsx(n.p,{children:"管理员从彩票地址回收错误代币。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"recoverWrongTokens"})," ",e.jsx(n.a,{href:"#recoverwrongtokens",children:"跳转到 recoverWrongTokens"})]}),`
`,e.jsxs(n.h3,{id:"lotteryclose",children:["LotteryClose",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#lotteryclose",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"LotteryClose(uint256 indexed lotteryId, uint256 firstTicketIdNextLottery);"})})})}),`
`,e.jsxs(n.p,{children:["彩票关闭。lotteryId 被索引，",e.jsx(n.code,{children:"firstTicketIdNextLottery"})," 由 ",e.jsx(n.code,{children:"currentTicketId"})," 确定。"]}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"closeLottery"})," ",e.jsx(n.a,{href:"#closelottery",children:"跳转到 closeLottery"})]}),`
`,e.jsxs(n.h3,{id:"lotteryinjection",children:["LotteryInjection",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#lotteryinjection",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"LotteryInjection(uint256 indexed lotteryId, uint256 amount);"})})})}),`
`,e.jsx(n.p,{children:"资金注入彩票。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"injectFunds"})," ",e.jsx(n.a,{href:"#injectfunds",children:"跳转到 injectFunds"})]}),`
`,e.jsxs(n.h3,{id:"lotteryopen",children:["LotteryOpen",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#lotteryopen",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"LotteryOpen("})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 indexed lotteryId,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 startTime,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 endTime,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 priceTicketInCake,"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"        uint256 firstTicketId"})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"    );"})})]})}),`
`,e.jsxs(n.p,{children:["彩票开启。",e.jsx(n.code,{children:"firstTicketId"})," 从 ",e.jsx(n.code,{children:"currentTicketId"})," 设置，"]}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"startLottery"})," ",e.jsx(n.a,{href:"#startlottery",children:"跳转到 startLottery"})]}),`
`,e.jsxs(n.h3,{id:"lotterynumberdrawn",children:["LotteryNumberDrawn",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#lotterynumberdrawn",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"LotteryNumberDrawn(uint256 indexed lotteryId, uint256 finalNumber, uint256 countWinningTickets);"})})})}),`
`,e.jsx(n.p,{children:"彩票轮次的号码被抽取。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"drawFinalNumberAndMakeLotteryClaimable"})," ",e.jsx(n.a,{href:"#drawfinalnumberandmakelotteryclaimable",children:"跳转到 drawFinalNumberAndMakeLotteryClaimable"})]}),`
`,e.jsxs(n.h3,{id:"newoperatorandtreasuryandinjectoraddresses",children:["NewOperatorAndTreasuryAndInjectorAddresses",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#newoperatorandtreasuryandinjectoraddresses",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"NewOperatorAndTreasuryAndInjectorAddresses(address operator, address treasury);"})})})}),`
`,e.jsx(n.p,{children:"新运营者地址已设置。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"setOperatorAndTreasuryAndInjectorAddresses"})," ",e.jsx(n.a,{href:"#setoperatorandtreasuryandinjectoraddress",children:"跳转到 setOperatorAndTreasuryAndInjectorAddresses"})]}),`
`,e.jsxs(n.h3,{id:"newrandomnumbergenerator",children:["NewRandomNumberGenerator",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#newrandomnumbergenerator",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{children:"NewRandomGenerator(address indexed randomGenerator);"})})})}),`
`,e.jsx(n.p,{children:"新随机数生成器地址已设置。"}),`
`,e.jsxs(n.p,{children:["触发器：",e.jsx(n.code,{children:"changeRandomGenerator"})," ",e.jsx(n.a,{href:"#changerandomnumbergenerator",children:"跳转到 changeRandomGenerator"})]})]})}function t(s={}){const{wrapper:n}={...i(),...s.components};return n?e.jsx(n,{...s,children:e.jsx(d,{...s})}):d(s)}export{t as default,c as frontmatter};
